!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=-1,n=-1,i=function(t){return parseFloat(t)||0},a=function(e){var n=1,a=t(e),o=null,r=[];return a.each(function(){var e=t(this),a=e.offset().top-i(e.css("margin-top")),s=r.length>0?r[r.length-1]:null;null===s?r.push(e):Math.floor(Math.abs(o-a))<=n?r[r.length-1]=s.add(e):r.push(e),o=a}),r},o=function(e){var n={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(n,e):("boolean"==typeof e?n.byRow=e:"remove"===e&&(n.remove=!0),n)},r=t.fn.matchHeight=function(e){var n=o(e);if(n.remove){var i=this;return this.css(n.property,""),t.each(r._groups,function(t,e){e.elements=e.elements.not(i)}),this}return this.length<=1&&!n.target?this:(r._groups.push({elements:this,options:n}),r._apply(this,n),this)};r.version="0.7.2",r._groups=[],r._throttle=80,r._maintainScroll=!1,r._beforeUpdate=null,r._afterUpdate=null,r._rows=a,r._parse=i,r._parseOptions=o,r._apply=function(e,n){var s=o(n),l=t(e),c=[l],p=t(window).scrollTop(),h=t("html").outerHeight(!0),d=l.parents().filter(":hidden");return d.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),d.css("display","block"),s.byRow&&!s.target&&(l.each(function(){var e=t(this),n=e.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block"),e.data("style-cache",e.attr("style")),e.css({display:n,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),c=a(l),l.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(c,function(e,n){var a=t(n),o=0;if(s.target)o=s.target.outerHeight(!1);else{if(s.byRow&&a.length<=1)return void a.css(s.property,"");a.each(function(){var e=t(this),n=e.attr("style"),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block");var a={display:i};a[s.property]="",e.css(a),e.outerHeight(!1)>o&&(o=e.outerHeight(!1)),n?e.attr("style",n):e.css("display","")})}a.each(function(){var e=t(this),n=0;s.target&&e.is(s.target)||("border-box"!==e.css("box-sizing")&&(n+=i(e.css("border-top-width"))+i(e.css("border-bottom-width")),n+=i(e.css("padding-top"))+i(e.css("padding-bottom"))),e.css(s.property,o-n+"px"))})}),d.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),r._maintainScroll&&t(window).scrollTop(p/h*t("html").outerHeight(!0)),this},r._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var n=t(this),i=n.attr("data-mh")||n.attr("data-match-height");i in e?e[i]=e[i].add(n):e[i]=n}),t.each(e,function(){this.matchHeight(!0)})};var s=function(e){r._beforeUpdate&&r._beforeUpdate(e,r._groups),t.each(r._groups,function(){r._apply(this.elements,this.options)}),r._afterUpdate&&r._afterUpdate(e,r._groups)};r._update=function(i,a){if(a&&"resize"===a.type){var o=t(window).width();if(o===e)return;e=o}i?n===-1&&(n=setTimeout(function(){s(a),n=-1},r._throttle)):s(a)},t(r._applyDataApi);var l=t.fn.on?"on":"bind";t(window)[l]("load",function(t){r._update(!1,t)}),t(window)[l]("resize orientationchange",function(t){r._update(!0,t)})}),function(t){var e=!1;window.itemCount=0;var n=function(n){e=!0,n.addClass("pagination__link--loading"),t.ajax({url:n.attr("href").replace(/([?&])items=\d*/,"$1items=0")}).done(function(n){var i=t("#main",t(n));t("#main .pagination").remove(),t("#main").append(i.children()),itemCount+=parseInt(i.attr("data-items")),e=!1,history.replaceState({},"","?items="+itemCount)})};t(document).ready(function(){itemCount+=parseInt(t("#main").attr("data-items")),t(window).scroll(function(){t(".pagination__link").length>0&&t(window).scrollTop()>=t(".pagination__link").last().offset().top-t(window).height()-t(window).height()/3&&!e&&n(t(".pagination__link").last())}),t(document).on("click",".pagination__link",function(e){e.preventDefault(),n(t(this))}),t(".page-grid").length&&t(".page-grid > li").matchHeight()})}(jQuery);
//# sourceMappingURL=main.js.map
